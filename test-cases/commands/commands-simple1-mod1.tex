\mycommand[
  opt arg 1\works{
    this 1?}][
  opt arg 2]{
  first arg\works{
    this 2?}}{
  second arg}
\mycommand{
  a b c \nested{
    1,2,3}}{
  first arg}{
  second arg}[
  first opt arg\withinopt{
    works?}][
  second opt arg\withinopt{
    not working mand arg}]
\mycommand{
  first arg}{
  second arg}
\mycommand{
  a b c \nested{
    1,2,3}}
\mycommand{
  a b c \nested{
    1,2,3\another{
      A,B,C}}}
